<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Variation Quality Check & Audit SOP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Mermaid.js for flowcharts -->
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #f6f7fb;
            color: #232425;
            margin: 0;
        }
        main {
            max-width: 950px;
            margin: 0 auto;
            padding: 2em 1.5em 3em 1.5em;
            background: #fff;
            box-shadow: 0 0 32px rgba(0,0,0,0.10);
            border-radius: 10px;
        }
        h1, h2, h3 { color: #2d5aa6; }
        h1 { margin-top: 0; font-size: 2.4em; }
        hr { margin: 2em 0; border: none; border-bottom: 1px solid #e0e0e0;}
        section { margin-bottom: 2.5em; }
        .step {
            margin-bottom: 2.5em;
            padding: 1.2em 1.5em;
            background: #f8fafc;
            border-left: 5px solid #3879db;
            border-radius: 7px;
            position: relative;
        }
        .label {
            display: inline-block;
            background: #ffe066;
            color: #3b3a30;
            border-radius: 4px;
            padding: 2px 11px;
            margin-left: 10px;
            font-size: 13px;
            font-weight: 600;
        }
        .screenshot {
            max-width: 320px;
            cursor: zoom-in;
            margin-top: 1.5em;
            border: 2px solid #3366cc;
            border-radius: 6px;
            display: block;
            transition: box-shadow .2s;
        }
        .screenshot:hover { box-shadow: 0 0 16px #abc8ef; }
        figcaption { font-size: 14px; color: #333; margin-top: 0.7em; }
        .mermaid { margin: 1.5em 0 1.5em 0; border-radius: 7px; background: #f1f4fa; padding: 15px; }
        .modal {
            display: none; position: fixed; z-index: 99; left: 0; top:0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.8);
        }
        .modal img {
            max-width: 92vw; max-height: 92vh; margin: 4vh auto; display: block; border-radius: 8px; box-shadow: 0 0 25px #0007;
        }
        .modal:after {
            content: 'Click anywhere to close';
            display: block;
            color: #fff;
            font-size: 1.3em;
            text-align: center;
            padding-bottom: 1.5em;
        }
        #top-right-link {
            position: fixed;
            top: 24px;
            right: 42px;
            z-index: 100;
        }
        #top-right-link a {
            display: inline-block;
            background: #2779bd;
            color: #fff;
            text-decoration: none;
            padding: 11px 26px;
            border-radius: 24px;
            font-size: 1em;
            box-shadow: 0 0 8px rgba(52,84,169,0.14);
            font-weight: 600;
            transition: background 0.19s;
        }
        #top-right-link a:hover { background: #174a81; }
        #top-left-authors {
            position: fixed;
            top: 24px;
            left: 32px;
            font-size: 12px;
            z-index: 100;
            text-align: left;
            background: rgba(255,255,255,0.93);
            padding: 8px 18px 8px 15px;
            border-radius: 12px;
            box-shadow: 0 0 8px rgba(52,84,169,0.10);
        }
        #top-left-authors b { font-weight: bold; }
        @media (max-width: 700px) {
            main { padding: 0.6em 0.2em 2em 0.2em; }
            .screenshot { max-width: 99vw; }
            .step { padding: 1em 0.5em; }
            #top-right-link {
                top: 10px;
                right: 10px;
            }
            #top-right-link a { padding: 8px 14px; font-size: 0.92em; }
            #top-left-authors {
                top: 10px;
                left: 10px;
                font-size: 11px;
                padding: 6px 12px 6px 9px;
            }
        }
    </style>
</head>
<body>
    <div id="top-left-authors">
      <b>SOP Created By :</b><br>
      Yash Kende<br>
      Siddhesh Gampawar
    </div>
    <div id="top-right-link">
        <a href="https://iserve-my.sharepoint.com/:w:/g/personal/siddhesh_gampawar_pattern_com/EXkYu8XiSXtBn6ISqjhQSjQB2kpW-IRh4NP77ZYUGuPlnA" target="_blank">
            Variation QC SOP Word File
        </a>
    </div>
<main>
    <h1>Variation Quality Check & Audit SOP</h1>
    <section>
        <h2>Purpose</h2>
        <ul>
            <li>Ensure variation families (parent–child) are accurate, policy‑compliant, and shopper‑friendly so customers can easily find and select the correct variant.</li>
            <li>Validate that parent–child linkages align to the allowed variation theme and are correctly structured.</li>
            <li>Identify and fix variation breakdowns (orphaned/mis‑mapped children, duplicate parents, missing attributes).</li>
            <li>Confirm whether each SKU is part of the defined variation family; separate or merge as needed.</li>
        </ul>
    </section>

    <section>
        <h2>Overview of Variation</h2>
        <ul>
            <li><b>Parent:</b> Non-buyable products displayed in detail pages are parent products, such as women's perfume.</li>
            <li><b>Child:</b> Buyable products related to parent product by size and/or color, such as womens perfume -32 oz.</li>
            <li><b>Variation Theme:</b> Defines how the child products differ from each other, such as size-color.</li>
            <li><b>Family:</b> Parent + all children.</li>
            <li>Variations allow customers to choose color and size from a single detail page for a cleaner buying experience.</li>
        </ul>
    </section>

    <hr>
    <section class="steps">
        <h2>Variation Quality Check for Amazon</h2>
        <div class="step">
            <h3>Step 1: Collection of Relevant Data</h3>
            <ul>
                <li>Download the required Masterfile from PXM, typically provided by the EPM.</li>
                <li>Ensure file includes: SKUs, ASINs, item names, parent SKUs, parent–child relationships, variation themes, and attributes.</li>
            </ul>
            <div class="mermaid">
flowchart TD
Start --> DownloadMF
DownloadMF --> EnsureDetails
EnsureDetails -->|Yes| Step2
EnsureDetails -->|No| UpdateMF
UpdateMF --> DownloadMF
            </div>
        </div>
        <div class="step">
            <h3>Step 2: Prepare a Template to Compare Data</h3>
            <ul>
                <li>Create a template with these sheets:
                  <ul>
                    <li><b>MF:</b> Masterfile data (SKU, ASIN, item name, parent SKU, variation theme, etc)</li>
                    <li><b>ASC VAR:</b> Comparison of MF to Amazon backend (CLR)</li>
                    <li><b>VW VAR:</b> Comparison of MF to frontend (Variation Wizard)</li>
                    <li><b>Variation Wizard:</b> Raw data from variation wizard (manual scrape)</li>
                    <li><b>Category Listing Report:</b> CLR backend data</li>
                    <li><b>All Listing Report:</b> ALR backend data</li>
                  </ul>
                </li>
            </ul>
            <div class="mermaid">
flowchart TD
MF --> Template
ASC --> Template
VW --> Template
            </div>
        </div>
        <div class="step">
            <h3>Step 3: Extract Data from Category Listing Report (CLR) & All Listings Report (ALR)</h3>
            <ul>
                <li>Download CLR and ALR from Amazon Seller Central for backend verification.</li>
                <li>Add data to respective template sheets.</li>
            </ul>
            <div class="mermaid">
flowchart TD
CLR --> AddCLR
ALR --> AddALR
AddCLR --> BackendSheet
AddALR --> BackendSheet
            </div>
        </div>
        <div class="step">
            <h3>Step 4: Variation QC for Amazon Seller Central Backend</h3>
            <ul>
                <li>Compare CLR data with Masterfile in the ASC VAR sheet to audit backend variations.</li>
                <li>
                <b>Result logic:</b>
                    <ul>
                        <li>If parent SKU of a child in MF matches parent SKU in CLR → <b>TRUE</b>: Part of the correct variation</li>
                        <li>If parent SKUs do not match → <b>FALSE</b>: Not part of the correct variation</li>
                        <li>If parent SKU is NA (0) in CLR → <b>FALSE</b>: Not part of any variation</li>
                    </ul>
                </li>
            </ul>
            <div class="mermaid">
flowchart TD
MF --> CompareCLR
CompareCLR -->|Parent SKU Match| TrueA
CompareCLR -->|No Match or NA| FalseA
            </div>
        </div>
        <div class="step">
            <h3>Step 5: Extract Data from Variation Wizard</h3>
            <ul>
                <li>Manually scrape variation data for child SKUs via ASC &gt; Catalog &gt; Add products via upload &gt; Variation Wizard.</li>
                <li>Add VW data to "Variation Wizard" sheet, including SKUs, ASINs, item names, variation themes/attributes, parent SKUs, parent ASINs.</li>
            </ul>
            <div class="mermaid">
flowchart TD
VW --> DataExtract
DataExtract --> AddToSheet
            </div>
        </div>
        <div class="step">
            <h3>Step 6: Variation Quality Check for Amazon Detail Page Frontend (VW Data)</h3>
            <ul>
                <li>Compare VW VAR data with Masterfile to audit frontend variations.</li>
                <li>
                <b>Result logic:</b>
                    <ul>
                        <li>If parent SKU of a child in MF matches parent SKU in VW → <b>TRUE</b>: Part of correct variation</li>
                        <li>If parent SKU missing in VW, cross-check parent ASIN:
                            <ul>
                                <li>If parent ASIN matches → "Parent SKU not found, but it is part of our variation"</li>
                                <li>If not → "Not a part of our variation"</li>
                            </ul>
                        </li>
                        <li>If VW data for a child SKU not found → <b>FALSE</b>: Not part of any variation</li>
                        <li>If Variation Theme from MF matches VW data → <b>TRUE</b></li>
                        <li>If Variation Theme does not match → <b>FALSE</b></li>
                    </ul>
                </li>
            </ul>
            <div class="mermaid">
flowchart TD
MF --> VWCompare
VWCompare -->|Parent SKU Match| TrueB
VWCompare -->|Parent SKU Missing| ParentASINChk
ParentASINChk -->|Match| Comment1B
ParentASINChk -->|No Match| Comment2B
VWCompare -->|SKU Not Found| FalseB
VWCompare -->|Variation Theme Match| TrueC
VWCompare -->|Variation Theme Mismatch| FalseC
            </div>
        </div>
        <div class="step">
            <h3>Step 7: Report and Submit Task</h3>
            <ul>
                <li>Check all details, verify correctness and alignments.</li>
                <li>Ensure markings/comments are present and prepare the final template for submission.</li>
            </ul>
            <div class="mermaid">
flowchart TD
Review --> Comments
Comments --> Submission
            </div>
        </div>
    </section>
    <hr>
    <section class="steps">
        <h2>Variation Quality Check for Walmart (Summary)</h2>
        <div class="step">
            <h3>Step 1: Collection of Relevant Data</h3>
            <ul>
                <li>Get the required Masterfile from the EPM in the assigned task.</li>
                <li>Ensure file includes: SKUs, item names, parent SKUs (Variant Group Id), parent–child relationships, variation themes, attribute details.</li>
            </ul>
            <div class="mermaid">
flowchart TD
StartWM --> DownloadWM
DownloadWM --> EnsureWM
EnsureWM -->|Yes| Step2WM
EnsureWM -->|No| UpdateWM
UpdateWM --> DownloadWM
            </div>
        </div>
        <div class="step">
            <h3>Step 2: Prepare a Template to Compare Data</h3>
            <ul>
                <li>Create template with these sheets:
                    <ul>
                        <li><b>MF:</b> Masterfile data (SKU, item name, parent SKU - Variant Group ID, variation theme, attributes)</li>
                        <li><b>Variation Audit:</b> Comparison of MF and Walmart backend</li>
                        <li><b>Item Report:</b> Data from Walmart Seller Central</li>
                    </ul>
                </li>
            </ul>
            <div class="mermaid">
flowchart TD
MFWM --> TemplateWM
VariationAudit --> TemplateWM
ItemReport --> TemplateWM
            </div>
        </div>
        <div class="step">
            <h3>Step 3: Extract Data from Item Report</h3>
            <ul>
                <li>Download Item Report from Walmart Seller Central for backend verification.</li>
                <li>Item report data is reviewed for variation themes/attributes and parent SKUs (Variant Group Id).</li>
            </ul>
            <div class="mermaid">
flowchart TD
DownloadIR --> AddIR
AddIR --> BackendReviewWM
            </div>
        </div>
        <div class="step">
            <h3>Step 4: Variation QC for Walmart Seller Central</h3>
            <ul>
                <li>Compare Item Report with Masterfile in Variation QC sheet for backend audit.</li>
                <li>
                    <b>Result logic:</b>
                    <ul>
                        <li>If parent SKU (MF) matches Variant group ID (Item report) → <b>TRUE</b>: Correct variation</li>
                        <li>If not → <b>FALSE</b>: Not part of the correct variation</li>
                        <li>If parent SKU is NA (0) in Item report → <b>FALSE</b>: Not part of any variation</li>
                    </ul>
                </li>
            </ul>
            <div class="mermaid">
flowchart TD
MFWM --> IR
IR --> CompareIR
CompareIR -->|Parent SKU Match| TrueWM
CompareIR -->|No Match or NA| FalseWM
            </div>
        </div>
        <div class="step">
            <h3>Step 5: Report and Submit Task</h3>
            <ul>
                <li>Check and verify all details are aligned. Prepare final template for submission with proper markings and comments.</li>
            </ul>
            <div class="mermaid">
flowchart TD
ReviewWM --> CommentsWM
CommentsWM --> SubmitWM
            </div>
        </div>
    </section>
</main>
<div class="modal" id="img-modal" onclick="this.style.display='none';">
    <img id="modal-img" src="">
</div>
<script>
    document.addEventListener('keyup',function(e){ if(e.key==='Escape'){document.getElementById('img-modal').style.display='none';} });
</script>
</body>
</html>
